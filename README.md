# chess-khorunjii-vlasov

Проект "Шахматы" (Chees)
Выполнили: Хорунжий Дмитрий, Николай Власов

Цель проекта: 
  - сделать полноценную компьютерную игру "Шахматы".

Задачи проекта:
  - сделать регистрацию и вход двух игроков;
  - сделать просмотр статистики для игрока;
  - реализовать саму игру;
  - защитить проект перед преподавателем и одногруппниками.

Этапы реализации проекта:
  1) Обсуждение идеи и утверждение плана проекта;
  2) Создание нового репозитория на GitHub;
  3) Проектирование и реализация базы данных при помощи Python библиотеки SQLite3;
  4) Реализация механики игры с использованием Python библиотеки - PyGame;
  5) Реализация графического интерфейса, а точнее следующих окон: Меню, Регистрация/Авторизация, Статистика - с помощью Python библиотеки PyQt5;
  6) Подключение и осуществление взаимодействия базы данных с основным кодом игры и окнами интерфейса;
  7) Добавление дополнительных функций;
  8) Исправление всех багов и ошибок. Подготовка проекта к защите;
  9) Защита проекта.
  
Заключение:
  Наш проект является полноценной игрой, готовой для использования. 
  Все задачи, которые были поставлены - достигнуты.
  
Потенциал проекта:
  Развивая проект, можно добавить искусственный интеллект, музыку, выбор размера поля, размер окна самой игры, а также сделать выбор темы.
  
________________________________________________________________________________________________________________________________________________


В корневой директории Chess распологаются основные файны:
  - main.py
  - ChessMain.py
  - ChessEngine.py
  - chess.sqlite
  
main.py
  Файл, который запускается первым.
  Сначала открывается окно Регистрации/Авторизации, после успешного входа происхоит запуск Menu, где можно посмотреть статистику и запустить саму игру "Шахматы".
  При запуске игры открывается окно Регистрации/Авторизации для ВТОРОГО пользователя.
  После успешной авторизации двух пользователей, main.py запускает ChessMain.py
  
ChessMain.py % ChessEngine.py
  Эти два файла работают в связке друг с другом.
  ChessEngine.py - игровой движок, где прописана вся миханика игры.
  
В ChessMain.py происходит:
  - отрисовка игрового окна (drawGameState);
  - отрисовка игрового поля (drawBoard);
  - отрисовка шахматных фигур (drawPieces);
  - появление конечного текста (drawText);
  - анимация (animateMove);
  - подсветка клеток (highlightSquares);
  - загрузка изображений (loadImages);
  - добавление побед и поражений в БД (addWins);
  - обработка самого игрового цикла (main).
    
В ChessEngine.py есть 2 класса: GameState - движок игры с основными инструкциями игры; Move - класс, отвечающий за перемещение фигур по доске.
  
Ниже описаны основные методы класса GameState:
  - makeMove: первичный метод класса, совершает перемещение фигуры по доске;
  - makeMove: первичный метод класса, совершает перемещение фигуры по доске;
  - getValidMoves % getAllPossibleMove & inCheck & squareUnderAttack: методы, проверяющие возможность соверщения хода игроком. Проверяется также: поставлен мат (checkmate),         либо ничья (stalemate). Проверяющие, какие клетки оказываются под атакой выбранной игроком фигурой, а также проверяют положение короля: объявлен ему шах, либо мат, и если       объявлен, то не дают возможность совершить "неправильный" ход, подвергнув короля поражению;
  - moveFunctions (getPawnMoves, getRookMoves, getKnightMoves, getBishopMoves, getQueenMoves, getKingMoves): методы, которые проверяют все возможные места, куда может               походить какая-либо фигура, и если такие места (клетки на игровой доске) имеются, то совершают ход;
  - undoMove: при нажатии клавиши 'Z' на клавиатуре возвращает предыдущий ход;
  - countPiece: считает количество оставшихся фигур, если фигур стало меньше, то запускается метод givenPiece;
  - givenPiece: записывает в БД колличество взятых и отданых шахматных фигур.
